<!DOCTYPE html>
<html>
<head>
  <title>PROGRESSION-O-TRON</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,300,0,0">
  <link rel="stylesheet" href="style.css">
  <style id="mobilecss"></style>
</head>
<body>
  <header><div>
    <h1>progression-o-tron</h1>
    <nav id="tab_nav"></nav>
  </div></header>
  <main>
    <section navtext="progression-o-tron">
      <input id="prog_input" placeholder="put chord progression here" oninput="find_continuations()" spellcheck="false"></input>
      <nav id="action_buttons">
        <a onclick="transpose_input(1);">transpose up</a>
        <a onclick="transpose_input(-1);">transpose down</a>
        <a onclick="auto_continuate();">auto-complete</a>
      </nav>
      <div id="cleaned_return"></div>
      <div id="advanced_results"></div>
    </section>
    <section navtext="about">
      <h2>Using the PROGRESSION-O-TRON</h2>
      <p>This is a tool that can continue chord progressions based on an analysis of existing songs. For example, if you present it with <span class="inline_chord" root="7">Gm7</span> <span class="inline_chord" root="0">C7</span>, it will suggest possible next chords like <span class="inline_chord" root="5">FM7</span> and <span class="inline_chord" root="2">DM7</span>.</p>
      <p>Chord names are prefered in their short forms (e.g. <span class="inline_chord" root="0">CM7</span> instead of <span class="inline_chord" root="0">Cmaj7</span>) but longer forms are usually accepted. You can use this text box to see how your text gets cleaned. (You can also see chord members! Just for fun)</p>
      <input id="test_chord_cleaning_input" placeholder="put chord(s) here" oninput="test_chord_cleaning()" spellcheck="false"></input>
      <p id="test_chord_cleaning_output" style="text-align: center;">&nbsp;</p>
      <p id="test_chord_cleaning_output_2" style="text-align: center;">&nbsp;</p>
      <aside>are some of these member sets wrong? please let me know!!! upper chord extensions on weird qualities are so complicated</aside>
      <h2>Libraries</h2>
      <p>Libraries are collections of songs that have been transcribed and processed for use in this tool. The choice of libraries determines what chord motions are encouraged by the program. The influence of each library can be individually modified.</p>
      <div id="library_container"></div>
      <p>Libraries can be generated at run-time using this input form. Give it a chord sequence, and it will process it into a usable library. Any word starting with '/' will indicate a break between songs, each of which are processed on their own.</p>
      <input id="user_library_name" placeholder="put name here" spellcheck="false">
      <input id="user_library_description" placeholder="put description here" spellcheck="false">
      <textarea id="user_library_chords" placeholder="put chords here" spellcheck="false"></textarea>
      <button onclick="make_user_library()">generate library</button>
      <!--<h2>How it works</h2>
      <p>It accomplishes this with a lookup table of contexts (always stored transposed such that the first chord's root is C). By transposing and looking up a context, the program shows you the ways that songs tend to continue such a context. To see that lookup table, try <code onclick="console.log(knowledge)">console.log(knowledge)</code> in the JS console. The lookup is generated by <a target="_blank" href="ChordTool.cpp">this C++ program</a> that takes filenames, scans them, and prints the table as a JS object.</p>
      <p>This page uses those same functions translated into JS to accept user input, access the lookup table, and return the results.</p>
      <p>A lookup table is generated for each of the libraries of songs I have transcribed. They are composited into a single lookup table at run time, and the weights of each library can be changed here.</p>
      <p>There are also functions that use standard chord notation rules to find chord members given a chord. This can be used to identify redundant spellings (i.e. <span class="inline_chord" root="0">C9</span> and <span class="inline_chord" root="0">C7add9</span>). It is not used as the program runs to reduce knowledge libraries, I just use it to debug and ensure I spell things consistently.</p>-->
      <hr><p style="text-align: center;" class="quiet">by <a href="https://www.twitter.com/astronomy487" target="_blank">astro</a></p>
    </section>
  </main>
  <script>if (screen.width < 1280) document.getElementById("mobilecss").innerHTML = "html {font-size: 24px;}";</script>
  <script src="knowledge management.js"></script>
  <script src="note and chord calculations.js"></script>
  <script src="chord tool ui.js"></script>
  <script src="other ui.js"></script>
  <script>
    document.getElementById("prog_input").value = "";
    build_knowledge();
    open_section(0, 0);
  </script>
</body>
</html>